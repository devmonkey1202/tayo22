// prisma/schema.prisma

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  DB ì—°ê²° ì„¤ì • (Cloud SQL / ë¡œì»¬ ê³µí†µ)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")   // .env íŒŒì¼ì—ì„œ DATABASE_URL ì½ìŒ
}

generator client {
  provider = "prisma-client-js"
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Review (í›„ê¸°)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Review {
  id        Int      @id @default(autoincrement())
  title     String
  body      String
  author    String?
  email     String?
  image     String?
  rating    Int      @default(5)
  views     Int      @default(0)   // ğŸ‘ˆ ì¡°íšŒìˆ˜ ì»¬ëŸ¼ ì¶”ê°€
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([createdAt], map: "idx_review_created_at")
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Reservation (ìƒë‹´ ì˜ˆì•½)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Reservation {
  id        Int      @id @default(autoincrement())
  name      String
  phone     String
  gender    String?
  carType   String?
  region    String?
  memo      String?
  status    String   @default("ìƒë‹´ì‹ ì²­ì¤‘")
  createdAt DateTime @default(now())
}


// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  FAQ (ìì£¼ ë¬»ëŠ” ì§ˆë¬¸)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Faq {
  id   Int    @id @default(autoincrement())
  icon String
  q    String
  a    String
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Setting (ì‚¬ì´íŠ¸ ì„¤ì •)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Setting {
  id        Int    @id @default(autoincrement())
  kakaoUrl  String
  metaTitle String
  metaDesc  String
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Recipient (SMS ìˆ˜ì‹ ì)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
model Recipient {
  id        Int      @id @default(autoincrement())
  name      String?
  label     String?
  phone     String?   @unique
  createdAt DateTime @default(now())
}

model BoardPost {
  id          Int      @id @default(autoincrement())
  title       String
  slug        String   @unique
  content     String
  isPublished Boolean  @default(false)
  isPinned    Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([isPublished, isPinned, createdAt])
}